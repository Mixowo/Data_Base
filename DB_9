CREATE DATABASE DB_GUARDERIA_

USE DB_GUARDERIA_

CREATE TABLE NIÑO(
NUMERO_MATRICULA INT PRIMARY KEY NOT NULL,
NOMBRE VARCHAR(10),
FECHA_NACIMIENTO DATETIME,
FECHA_INGRESO DATETIME,
FECHA_BAJA DATETIME
)

CREATE TABLE PERSONA_AUTORIZADA (
DNI VARCHAR(15) PRIMARY KEY NOT NULL,
NOMBRE VARCHAR(10),
DIRECCION VARCHAR(25),
TELEFONO VARCHAR(15),
RELACION_CON_NIÑO VARCHAR(15),
NUMERO_MATRICULA INT,
FOREIGN KEY (NUMERO_MATRICULA) REFERENCES NIÑO
)

CREATE TABLE RESPONSABLE_PAGO (
DNI VARCHAR(15) PRIMARY KEY NOT NULL,
NOMBRE VARCHAR(10),
DIRECCION VARCHAR(25),
TELEFONO VARCHAR(15),
NUMERO_CUENTA VARCHAR(20),
NUMERO_MATRICULA INT,
FOREIGN KEY (NUMERO_MATRICULA) REFERENCES NIÑO
)

CREATE TABLE MENU (
NUMERO_MENU INT PRIMARY KEY NOT NULL,
NOMBRE VARCHAR(100)
)

CREATE TABLE PLATO (
ID_PLATO INT PRIMARY KEY NOT NULL,
NOMBRE VARCHAR(10),
NUMERO_MENU INT,
FOREIGN KEY (NUMERO_MENU) REFERENCES MENU
)

CREATE TABLE INGREDIENTE (
ID_INGREDIENTE INT PRIMARY KEY NOT NULL,
NOMBRE VARCHAR(10)
)

CREATE TABLE PLATO_INGREDIENTE (
ID_PLATO INT,
ID_INGREDIENTE INT,
FOREIGN KEY (ID_PLATO) REFERENCES PLATO,
FOREIGN KEY (ID_INGREDIENTE) REFERENCES INGREDIENTE
)

CREATE TABLE ALERGIA (
NUMERO_MATRICULA INT,
ID_INGREDIENTE INT,
FOREIGN KEY (NUMERO_MATRICULA) REFERENCES NIÑO,
FOREIGN KEY (ID_INGREDIENTE) REFERENCES INGREDIENTE
)

CREATE TABLE CONSUMO (
NUMERO_MATRICULA INT,
FECHA DATE,
NUMERO_MENU INT,
DIAS_COMIENDO INT,
FOREIGN KEY (NUMERO_MATRICULA) REFERENCES NIÑO,
FOREIGN KEY (NUMERO_MENU) REFERENCES MENU
)
