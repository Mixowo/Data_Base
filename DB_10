CREATE DATABASE DB_INMOBILIARIA

USE DB_INMOBILIARIA

CREATE TABLE OFICINA(
ID_OFICINA INT PRIMARY KEY NOT NULL,
DIRECCION VARCHAR(25),
TELEFONO INT
)

CREATE TABLE ZONA(
ID_ZONA INT PRIMARY KEY NOT NULL,
NOMBRE VARCHAR(10) 
)

CREATE TABLE PROPIETARIO(
ID_PROPIETARIO INT PRIMARY KEY NOT NULL,
NOMBRE VARCHAR(10),
TELEFONO INT
)

CREATE TABLE INMUEBLE(
NUM_REFERENCIA INT PRIMARY KEY NOT NULL,
SUPERFICIE DECIMAL(10,2),
DIRECCION VARCHAR(25),
PRECIO DECIMAL(10,2),
TIPO VARCHAR(20) CHECK (TIPO IN ('PISO NUEVO', 'PISO DE OCASION', 'VILLA', 'CASA', 'LOCAL')),
ID_OFICINA INT,
ID_PROPIETARIO INT,
ID_ZONA INT,
LLAVES BIT,
FOREIGN KEY (ID_OFICINA) REFERENCES OFICINA,
FOREIGN KEY (ID_PROPIETARIO) REFERENCES PROPIETARIO,
FOREIGN KEY (ID_ZONA) REFERENCES ZONA
)

CREATE TABLE VILLA(
NUM_REFERENCIA INT PRIMARY KEY NOT NULL,
TAMANO_PARCELA DECIMAL(10,2),
URBANIZACION VARCHAR(10),
FOREIGN KEY (NUM_REFERENCIA) REFERENCES INMUEBLE
)

CREATE TABLE PISO_CASA(
NUM_REFERENCIA INT PRIMARY KEY NOT NULL,
NUM_HABITACIONES INT,
NUM_BAÃ‘OS INT,
NUM_ASEOS INT,
NUM_COCINAS INT,
GAS_CIUDAD BIT,
PUERTA_BLINDADA BIT,
PARQUET_ BIT,
FOREIGN KEY (NUM_REFERENCIA) REFERENCES INMUEBLE
)

CREATE TABLE LOCAL_(
NUM_REFERENCIA INT PRIMARY KEY NOT NULL,
NUM_PUERTAS INT,
DIAFANO BIT,
ACONDICIONADO BIT,
FOREIGN KEY (NUM_REFERENCIA) REFERENCES INMUEBLE
)

CREATE TABLE VISITA(
ID_VISITA INT PRIMARY KEY NOT NULL,
NUM_REFERENCIA INT,
NOMBRE_CLIENTE VARCHAR(10),
FECHA DATETIME,
HORA DATETIME,
COMENTARIO VARCHAR (10),
FOREIGN KEY (NUM_REFERENCIA) REFERENCES INMUEBLE
)
