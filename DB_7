CREATE DATABASE DB_ESTUDIOMUSICA_

USE DB_ESTUDIOMUSICA_

CREATE TABLE CD(
CODMASTER INT PRIMARY KEY NOT NULL,
TITULO_GRABACION VARCHAR(10),
CANT_PISTAS INT
)

CREATE TABLE CANCION(
ID_CANCION VARCHAR (10) PRIMARY KEY NOT NULL,
NOMBRE_CANCION VARCHAR(10),
AÑO_COMPOSICION INT,
)

CREATE TABLE PISTA(
NRO_PISTA INT PRIMARY KEY NOT NULL,
CODMASTER INT,
DURACION_PISTA DATETIME,
NOMBRE_CANCION VARCHAR(10),
AÑO_COMPOSICION VARCHAR(10),
FOREIGN KEY (CODMASTER) REFERENCES CD,
FOREIGN KEY (NOMBRE_CANCION) REFERENCES CANCION,
FOREIGN KEY (AÑO_COMPOSICION) REFERENCES CANCION
)

CREATE TABLE AUTOR (
ID_AUTOR INT PRIMARY KEY NOT NULL,
NOMBRE_AUTOR VARCHAR(10)
)

CREATE TABLE CANCION_AUTOR(
NOMBRE_CANCION VARCHAR (10),
AÑO_COMPOSICION VARCHAR (10),
ID_AUTOR INT,
FOREIGN KEY (ID_AUTOR) REFERENCES AUTOR,
FOREIGN KEY (NOMBRE_CANCION) REFERENCES CANCION,
FOREIGN KEY (AÑO_COMPOSICION) REFERENCES CANCION
)

CREATE TABLE INTERPRETE(
ID_INTERPRETE INT PRIMARY KEY,
NOMBRE_INTERPRETE VARCHAR(10)
)

CREATE TABLE PISTA_INTERPRETE(
CODMASTER INT,
NRO_PISTA INT,
ID_INTERPRETE INT,
FOREIGN KEY (ID_INTERPRETE) REFERENCES INTERPRETE,
FOREIGN KEY (CODMASTER) REFERENCES PISTA,
FOREIGN KEY (NRO_PISTA) REFERENCES PISTA
)

CREATE TABLE MUSICO_APOYO(
ID_MUSICO INT PRIMARY KEY NOT NULL,
NOMBRE_MUSICO VARCHAR(10)
)

CREATE TABLE PISTA_MUSICO_APOYO(
CODMASTER INT,
NRO_PISTA INT,
ID_MUSICO INT,
FOREIGN KEY (ID_MUSICO) REFERENCES MUSICO_APOYO,
FOREIGN KEY (CODMASTER) REFERENCES PISTA,
FOREIGN KEY (NRO_PISTA) REFERENCES PISTA
)
