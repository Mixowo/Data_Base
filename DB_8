CREATE DATABASE DB_PROYECTOSUNIVERSITARIOS

USE DB_PROYECTOSUNIVERSITARIOS

CREATE TABLE ORGANISMO(
ID_ORGANISMO INT PRIMARY KEY NOT NULL,
NOMBRE VARCHAR(10),
DIRECCION VARCHAR(25),
POBLACION VARCHAR(10),
CODIGO_POSTAL VARCHAR(10),
TELEFONO INT
)

CREATE TABLE CONVOCATORIA(
ID_CONVOCATORIA INT PRIMARY KEY NOT NULL,
FECHA_PUBLICACION DATETIME,
ID_ORGANISMO INT,
PROGRAMA VARCHAR(10),
FECHA_LIMITE DATETIME,
NUMERO_CONVOCATORIA INT,
URL_INFORMACION VARCHAR(25),
NUMERO_BOE_DOGV VARCHAR(20),
FECHA_RESOLUCION DATETIME,
FOREIGN KEY (ID_ORGANISMO) REFERENCES ORGANISMO
)

CREATE TABLE DEPARTAMENTO(
ID_DEPARTAMENTO INT PRIMARY KEY NOT NULL,
NOMBRE VARCHAR(10),
DIRECTOR VARCHAR(10)
)

CREATE TABLE INVESTIGADOR(
ID_INVESTIGADOR INT PRIMARY KEY  NOT NULL,
NOMBRE VARCHAR(10),
ID_DEPARTAMENTO INT,
AREA_CONOCIMIENTO VARCHAR(10),
FOREIGN KEY (ID_DEPARTAMENTO) REFERENCES DEPARTAMENTO
)

CREATE TABLE GRUPO_INVESTIGACION(
ID_GRUPO INT PRIMARY KEY NOT NULL,
NOMBRE VARCHAR(10),
ID_INVESTIGADOR_RESPONSABLE INT,
FOREIGN KEY (ID_INVESTIGADOR_RESPONSABLE) REFERENCES INVESTIGADOR
)

CREATE TABLE GRUPO_MIEMBRO(
ID_GRUPO INT,
ID_INVESTIGADOR INT,
FOREIGN KEY (ID_GRUPO) REFERENCES GRUPO_INVESTIGACION,
FOREIGN KEY (ID_INVESTIGADOR) REFERENCES INVESTIGADOR
)

CREATE TABLE SOLICITUD(
ID_SOLICITUD INT PRIMARY KEY NOT NULL,
ID_CONVOCATORIA INT,
FECHA_PRESENTACION DATETIME,
TITULO_PROYECTO VARCHAR(10),
INVESTIGADOR_PRINCIPAL VARCHAR(10),
DEPARTAMENTO_INVESTIGADOR VARCHAR(10),
FECHA_RESOLUCION DATETIME,
APROBADA BIT,
IMPORTE_SOLICITADO DECIMAL(10, 2),
NUMERO_ENTRADA VARCHAR(20),
FOREIGN KEY (ID_CONVOCATORIA) REFERENCES CONVOCATORIA
)

CREATE TABLE PARTICIPANTE_PROYECTO(
ID_SOLICITUD INT,
ID_INVESTIGADOR INT,
HORAS_SEMANALES INT,
FOREIGN KEY (ID_SOLICITUD) REFERENCES SOLICITUD,
FOREIGN KEY (ID_INVESTIGADOR) REFERENCES INVESTIGADOR
)

CREATE TABLE PROYECTO(
ID_PROYECTO INT PRIMARY KEY NOT NULL,
ID_SOLICITUD INT,
FECHA_INICIO_PREVISTA DATETIME,
FECHA_FIN_PREVISTA DATETIME,
DURACION_MESES INT,
FOREIGN KEY (ID_SOLICITUD) REFERENCES SOLICITUD
)
